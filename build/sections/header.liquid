{%- comment -%}
  This is a required section for the Shopify Theme Store.
  It is available in the "Header" section in the theme editor.

  Theme Store required settings
  - Show announcement
  - Text: message to announce
  - Link: link of the announcement bar

  Theme Store optional settings
  - Home page only: only shows on the home page
{%- endcomment -%}
<section data-section-id="{{ section.id }}" data-section-type="header" id="header">
  {% comment %} Initial Header {% endcomment %}
  <header class="site-header" data-device="tablet">
    <div class="container" >

			{% comment %} Logo {% endcomment %}
			<a href="{{shop.url}}" title="{{shop.name}}" class="store-logo">
				<img src="{{ settings.store_logo_long | img_url: '500x' }}" alt="{{shop.name}}" />
			</a>

			{% comment %} Search {% endcomment %}
			<div class="header-search">
				<form action="/search" method="get" role="search">
				<label for="Search-{{ section.id }}" class="label-hidden">
					{{ 'general.search.placeholder' | t }}
				</label>

				<input type="search"
					name="q"
					id="Search-{{ section.id }}"
					value="{{ search.terms | escape }}"
					placeholder="{{ 'general.search.placeholder' | t }}">

				<button type="submit" class="button">
					{% include 'icon-search' %}
					<span class="icon-fallback-text">{{ 'general.search.submit' | t }}</span>
				</button>
				</form>
			</div>

			{% comment %} Mini Nav {% endcomment %}
			{% include 'header-mini-nav' %}

		</div> {% comment %} container end {% endcomment %}
		
  </header>

  <header class="mobile-menu-bar site-header" data-device="mobile-mf">
    <div class="container">
      {% comment %} hamburger {% endcomment %}
      <div class="hamburger" data-toggle="hamburger">
        {% include 'icon-hamburger' %}
      </div>
      {% comment %} mobile search {% endcomment %}
      <div class="mobile-search" data-toggle="mobile-search">
        {% include 'icon-search' %}
      </div>
      {% comment %} Logo {% endcomment %}
      <a href="{{shop.url}}" title="{{shop.name}}" class="store-logo">
        <img src="{{ settings.store_logo_long | img_url: '240x' }}" alt="{{shop.name}}" />
      </a>
      {% comment %} Account {% endcomment %}
      <div class="account" data-toggle="account">
        {% include 'icon-account' %}
      </div>
      {% comment %} Cart {% endcomment %}
      <div class="mini-cart" data-pseudo-content="" data-psuedo-target="basket">
        {% include 'icon-basket' %}
      </div>
    </div>

  </header>

  {% comment %} Navigation Snippet -  Assigned and passed with {% endcomment %}

	<ul class="sub-header-ctas">
			{% for block in section.blocks %}
				<li
					{% if forloop.index >= 2 %}
						data-device="tablet"
					{% endif %}						
					class="sub-header-cta"
					style="background-color: {{ block.settings.colour }};"
				>
					<h4 class="sub-header-cta-text-left">{{ block.settings.text_left }}</h4>
					<h4 class="sub-header-cta-text-center">{{ block.settings.text_center }}</h4>
					{% assign btn-target = block.settings.link %}
					{% assign btn-title = block.settings.text_center %}
					{% assign btn-content = block.settings.text_cta %}
					{% include "btn" %}
				</li>
			{% endfor %}
	</ul>
</section>


{% schema %}
{
	"name": "Header",
	"settings": [
		{
			"type": "header",
			"content": "Mini Nav - Top right of header"
		},
		{
			"type": "text",
			"id": "mini_nav_stores_link_text",
			"label": "Mini Nav Stores Text",
			"default": "Stores"
		},
		{
			"type": "text",
			"id": "mini_nav_account_link_text",
			"label": "Mini Nav Account Text",
			"default": "Account"
		},
		{
			"type": "text",
			"id": "mini_nav_basket_link_text",
			"label": "Mini Nav Basket Text",
			"default": "Basket"
		}
	],
	"blocks": [
		{
			"type": "text",
			"name": "Sub Header CTAs",
			"settings": [
				{
					"id": "text_left",
					"type": "text",
					"label": "Text Left"
				},
				{
					"id": "text_center",
					"type": "text",
					"label": "Text Center"
				},
				{
					"id": "text_cta",
					"type": "text",
					"label": "CTA Text"
				},
				{
					"id": "link",
					"type": "url",
					"label": "Link"
				},
				{
					"id": "colour",
					"type": "color",
					"label": "Background Colour"
				}
			]
		}
	]
}
{% endschema %}

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "{{ shop.name }}",
  {% if section.settings.logo %}
	{% assign image_size = section.settings.logo.width | append:'x' %}
	"logo": "https:{{ section.settings.logo | img_url: image_size }}",
  {% endif %}
  "sameAs": [
	"{{ settings.social_twitter_link }}",
	"{{ settings.social_facebook_link }}",
	"{{ settings.social_pinterest_link }}",
	"{{ settings.social_instagram_link }}",
	"{{ settings.social_tumblr_link }}",
	"{{ settings.social_snapchat_link }}",
	"{{ settings.social_youtube_link }}",
	"{{ settings.social_vimeo_link }}"
  ],
  "url": "{{ shop.url }}{{ page.url }}"
}
</script>

{% if template.name == 'index' %}
  <script type="application/ld+json">
	{
	  "@context": "http://schema.org",
	  "@type": "WebSite",
	  "name": "{{ shop.name }}",
	  "potentialAction": {
		"@type": "SearchAction",
		"target": "{{ shop.url }}/search?q={search_term_string}",
		"query-input": "required name=search_term_string"
	  },
	  "url": "{{ shop.url }}{{ page.url }}"
	}
  </script>
{% endif %}
